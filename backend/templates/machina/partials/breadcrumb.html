{% load i18n %}

<section class="g-bg-gray-light-v5 g-py-50">
    <div class="container">
        <div class="d-sm-flex text-center">
            <div class="align-self-center">
                <h2 class="h3 g-font-weight-500 w-100 g-mb-10 g-mb-0--md">{% trans "Forum index" %}</h2>
            </div>

            <div class="align-self-center ml-auto">
                <ul class="u-list-inline">
                    <li class="list-inline-item g-mr-5">
                        <a class="u-link-v5 g-color-main" href="{% url 'forum:index' %}">{% trans "Forum index" %}</a>
                        <i class="g-color-gray-light-v2 g-ml-5">/</i>
                    </li>

                    {% if forum %}
                    {% for ancestor in forum.get_ancestors %}
                        <li class="list-inline-item g-mr-5">
                            <a class="u-link-v5 g-color-main" href="{% url 'forum:forum' ancestor.slug ancestor.id %}">{{ ancestor.name }}</a>
                            <i class="g-color-gray-light-v2 g-ml-5">/</i>
                        </li>
                    {% endfor %}
                        <li class="list-inline-item g-color-primary">
                            <a class="u-link-v5 g-color-main" href="{% url 'forum:forum' forum.slug forum.id %}">{{ forum.name }}</a>
                        </li>
                    {% endif %}

                    {% if topic %}
                        <li class="list-inline-item g-color-primary">
                            <i class="g-color-gray-light-v2 g-mr-5">/</i>
                            <span>{{ topic.subject }}</span>
                        </li>
                    {% endif %}

                    {% if request.resolver_match.url_name == 'index' %}
                        <li class="list-inline-item g-color-primary">
                            <span>Все форумы</span>
                        </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </div>
</section>
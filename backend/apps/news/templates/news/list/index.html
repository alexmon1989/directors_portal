{% extends 'base.html' %}

{% load extras %}

{% block breadcrumbs %}
    {% include 'news/list/_partials/breadcrumbs.html' %}
{% endblock %}


{% block content %}
    <div class="masonry-grid row">
        <div class="masonry-grid-sizer col-sm-1"></div>

        {% for item in news_list|slice:":6" %}
            <div class="masonry-grid-item col-sm-6 g-mb-30">
                <!-- Blog Classic Blocks -->
                <article class="u-shadow-v11">
                    {% if item.image %}
                        <a href="{% url 'news:detail' slug=item.slug %}"><img class="img-fluid w-100" src="{{ item.image.url }}" alt="{{ item.title }}"></a>
                    {% else %}
                        <a href="{% url 'news:detail' slug=item.slug %}"><img class="img-fluid w-100" src="https://via.placeholder.com/450x300.png?text=No+Image" alt=""></a>
                    {% endif %}
                    <div class="g-bg-white g-pa-30">
                        <span class="d-block g-color-gray-dark-v4 g-font-weight-600 g-font-size-12 text-uppercase mb-2">{{ item.published_at }}</span>
                        <h2 class="h5 g-color-black g-font-weight-600 mb-3">
                            <a class="u-link-v5 g-color-black g-color-primary--hover g-cursor-pointer" href="{% url 'news:detail' slug=item.slug %}">{{ item.title }}</a>
                        </h2>
                        <p class="g-color-gray-dark-v4 g-line-height-1_8">{{ item.short_text|default:item.full_text|truncatechars_html:250|safe }}</p>
                        <a class="g-font-size-13" href="{% url 'news:detail' slug=item.slug %}">Далее...</a>
                    </div>
                </article>
                <!-- End Blog Classic Blocks -->
            </div>
        {% endfor %}
    </div>

    {% if is_paginated %}
        {% pagination page_obj=page_obj get_params=request.GET %}
    {% endif %}
{% endblock %}
